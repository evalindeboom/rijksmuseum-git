<!DOCTYPE html>
<html lang="en">
<head>


	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="">
	<meta name="description" content="">

<!-- Site title
 ================================================== -->
<title>Rijksmuseum - Search engine</title>

<!-- Bootstrap CSS
 ================================================== -->
<link rel="stylesheet" href="css/bootstrap.min.css">

<!-- Animate CSS
 ================================================== -->
<link rel="stylesheet" href="css/animate.min.css">

<!-- Font Icons CSS
 ================================================== -->
<link rel="stylesheet" href="css/font-awesome.min.css">
<link rel="stylesheet" href="css/ionicons.min.css">

<!-- Main CSS
 ================================================== -->
<link rel="stylesheet" href="css/style.css">

<!-- Google web font
 ================================================== -->
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,300' rel='stylesheet' type='text/css'>

</head>
<body>


<!-- Preloader section
================================================== -->
<div class="preloader">

	<div class="sk-spinner sk-spinner-pulse"></div>

</div>


<!-- Header section
================================================== -->
<section id="header" class="header-one">
	<div class="container">
		<div class="row">

			<div class="col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8">
          <div class="header-thumb">
              <h1 class="wow fadeIn" data-wow-delay="0.5s">Rijksmuseum</h1>
              <h3 class="wow fadeInUp" data-wow-delay="0.8s">Plan your personal tour.</h3>
          </div>
			</div>

		</div>
	</div>
</section>


<!-- Portfolio section
================================================== -->
<section id="portfolio">
   <div class="container">
      <div class="row">

         <div class="col-md-12 col-sm-12">

               <!-- iso section -->
               <div class="iso-section wow fadeInUp" data-wow-delay="1.3s">

                  <ul class="filter-wrapper clearfix">
                           <li><a href="index.html" class="opc-main-bg">Find what you love</a></li>
                           <li><a href="#" class="selected-opc-main-bg">Search Engine</a></li>
                  </ul>

											<div class="description">

												<h5>Look for different objects of the <strong>RIJKSMUSEUM</strong></h5>

											</div>

								</div>


<!-- Query
================================================== -->
<div class="iso-section wow fadeInUp" data-wow-delay="1.5s">
	<form class="form-inline" role="form" >
		<div class="form-group">
			<label class="sr-only">Query</label>
			<input id="query" type="search" class="form-control" placeholder="ex. 'Vincent van Gogh'"/>
		</div>
		<div class="form-group">
			<button data-action="run"
				data-code="#myQuery"
				data-target="#example3-container"
				class="btn btn-primary">search</button>
		</div>
	</form>

</div>
<table id="example3-container" class="example3-container target table-striped">
</table>


<!-- Javascript/API
================================================== -->
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/isotope.js"></script>
<script src="js/imagesloaded.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/custom.js"></script>
<script src="js/scale.fix.js"></script>
<script src="jquery-1.10.2.min.js"></script>
<script src="js/underscore-min.js"></script>
<script src="js/jquery.scrollintoview.min.js"></script>

<div class="search-table">

<script id="myQuery" type="example">

		 function search(query) {
			 return $.getJSON("https://www.rijksmuseum.nl/api/en/collection?q=Q&key=CdGbwlYs&format=json".replace("Q", query));
		 }

		 function pictures(object) {
			 return $("<div>")
				 .addClass("pictures")
				 .css("background-image", "url(" + object.webImage.url.replace("s0", "s128") +")");
		 }

		 search($("#query").val())
			 .done(function(results) {
				 $("#example3-container").empty();

				 var $table = $("#example3-container");
				 $table.html("");

				 $.each(results.artObjects, function(index, object) {
					 console.log(object);

					 var $row = $(
						 '<tr>'+
						 '<td> <img src="'+ object.webImage.url + '">' +  object.principalOrFirstMaker + " <br> " + object.title +
						 '</tr>').appendTo($table);


					 $row.find("pictures").append(pictures(object));

					 $row.on("click", function() {
						 document.location = window.open(object.links.web, "_blank", "width=750, height=750");
						 window.location.assign("query.html")
					 });
				 })
			 });
	 </script>

	 <script>
      $("code[data-code]").each(function(i,el){
          $(el).text($($(el).data("code")).text());
      })

      $("[data-action=run]").click(function(evt){
        evt.preventDefault();
        var $button = $(this);
        eval ($($button.data("code")).text());

        $($button.data("target")).scrollintoview(false);
      });
    </script>

	  <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>$("#highlight-styles").html()</script>

</div>


</body>
</html>
